{% extends 'bookings/base.html' %}
{% block content %}
<div class="content-wrapper">
  <h3>{{msg}}</h3>
  <h2>List of buses</h2>
  <div class="table-responsive">
    <table class="table table-striped">
      <thead style="background-color: blue;color: white;">
        <tr>
          <th>ID</th>
          <th>NAME</th>
          <th>SOURCE</th>
          <th>DESTINATION</th>
          <th>NUM OF SEATS</th>
          <th>NUM OF SEATS REM</th>
          <th>PRICE</th>
          <th>DATE</th>
          <th>TIME</th>
        </tr>
      </thead>
      <tbody>
        {% for row in bus_list %}
        <tr>
          <td>{{row.id }}</td>
          <td>{{row.bus_name}}</td>
          <td>{{row.source}}</td>
          <td>{{row.dest}}</td>
          <td>{{row.nos}}</td>
          <td>{{row.rem}}</td>
          <td>{{row.price}}</td>
          <td>{{row.date}}</td>
          <td>{{row.time}}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <form action="{% url 'bookings' %}" method="post" class="booking-form">
    <h3>Choose bus to book</h3>
    {% csrf_token %}
    <div class="form-group">
      <label for="bus_id">Bus ID</label>
      <input name='bus_id' class="form-control" type="number" id="bus_id" required>
    </div>
    <div class="form-group">
      <label for="no_seats">Number of seats</label>
      <input name='no_seats' class="form-control" type="number" id="no_seats" required>
    </div>
    <button type="submit" class="btn btn-success">Book bus</button>
    {% if error %}
    <div class="alert alert-danger mt-3">
      {{error}}
    </div>
    {% endif %}
  </form>
</div>

<style>
  .content-wrapper {
    padding: 15px;
    max-width: 100%;
    overflow-x: hidden;
  }
  .table-responsive {
    overflow-x: auto;
  }
  .table th, .table td {
    white-space: nowrap;
  }
  .booking-form {
    max-width: 500px;
    margin-top: 20px;
  }
  .booking-form .form-group {
    margin-bottom: 15px;
  }
  @media (max-width: 768px) {
    .table-responsive {
      font-size: 14px;
    }
    h2, h3 {
      font-size: 1.5rem;
    }
  }
</style>
{% endblock %}